"use strict";var e=require("postcss-selector-parser"),t=require("fs"),s=require("path"),n=require("postcss");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(s){if("default"!==s){var n=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,n.get?n:{enumerable:!0,get:function(){return e[s]}})}})),t.default=e,Object.freeze(t)}var o=r(e),a=r(t),i=r(s),u=r(n),l=(e,t)=>{const s={};return e.nodes.slice().forEach((e=>{var n,r,c;if("atrule"!==e.type||"custom-selector"!==e.name)return;if(!e.params||!e.params.includes(":--"))return;const a=e.params.trim(),i=o.default().astSync(a),u=null==i||null==(n=i.nodes)||null==(r=n[0])||null==(c=r.nodes)?void 0:c[0];if(!u||"pseudo"!==u.type||!u.value.startsWith(":--"))return;const l=u.toString();s[l]=o.default().astSync(a.slice(l.length).trim()),Object(t).preserve||e.remove()})),s};function f(e,t){let s=e.nodes.length-1;for(;s>=0;){const n=p(e.nodes[s],t);n.length&&e.nodes.splice(s,1,...n),--s}return e}function p(e,t){const s=[];for(const n in e.nodes){const{value:r,nodes:c}=e.nodes[n];if(r in t){for(const c of t[r].nodes){const r=e.clone(),o=c.clone().nodes;r.nodes.splice(n,1,...o.map(((t,s)=>("selector"===t.type&&(t.spaces={...e.nodes[s].spaces}),0===s&&t.spaces&&(t.spaces.before=""),s===o.length-1&&t.spaces&&(t.spaces.after=""),t))));const a=p(r,t);b(r.nodes,Number(n)),a.length?s.push(...a):s.push(r)}return s}c&&c.length&&f(e.nodes[n],t)}return s}const d=/^(tag|universal)$/,m=/^(class|id|pseudo|tag|universal)$/,j=e=>m.test(Object(e).type),b=(e,t)=>{if(t&&(s=e[t],d.test(Object(s).type))&&j(e[t-1])){let s=t-1;for(;s&&j(e[s]);)--s;if(s<t){const n=e.splice(t,1)[0];e.splice(s,0,n),e[s].spaces.before=e[s+1].spaces.before,e[s+1].spaces.before="",e[t]&&(e[t].spaces.after=e[s].spaces.after,e[s].spaces.after="")}}var s};function y(e){return l(e)}function O(e){const t=Object.assign({},Object(e).customSelectors||Object(e)["custom-selectors"]);for(const e in t)t[e]=o.default().astSync(t[e]);return t}function g(e){return e.map((e=>{if(e instanceof Promise)return e;if(e instanceof Function)retur