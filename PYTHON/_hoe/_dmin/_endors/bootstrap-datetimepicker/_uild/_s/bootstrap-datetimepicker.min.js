rt);var t=this.startNode();return this.next(),this.type===xa.semi||this.canInsertSemicolon()||this.type!==xa.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(xa.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},so.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var ao=Fa.prototype;ao.raise=function(e,t){var i=Ma(this.input,e);t+=" ("+i.line+":"+i.column+")";var s=new SyntaxError(t);throw s.pos=e,s.loc=i,s.raisedAt=this.pos,s},ao.raiseRecoverable=ao.raise,ao.curPosition=function(){if(this.options.locations)return new Oa(this.curLine,this.pos-this.lineStart)};var oo=Fa.prototype,lo=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};oo.enterScope=function(e){this.scopeStack.push(new lo(e))},oo.exitScope=function(){this.scopeStack.pop()},oo.treatFunctionsAsVarInScope=function(e){return 2&e.flags||!this.inModule&&1&e.flags},oo.declareName=function(e,t,i){var s=!1;if(2===t){var n=this.currentScope();s=n.lexical.indexOf(e)>-1||n.functions.indexOf(e)>-1||n.var.indexOf(e)>-1,n.lexical.push(e),this.inModule&&1&n.flags&&delete this.undefinedExports[e]}else if(4===t){this.currentScope().lexical.push(e)}else if(3===t){var r=this.currentScope();s=this.treatFunctionsAsVar?r.lexical.indexOf(e)>-1:r.lexical.indexOf(e)>-1||r.var.indexOf(e)>-1,r.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var o=this.scopeStack[a];if(o.lexical.indexOf(e)>-1&&!(32&o.flags&&o.lexical[0]===e)||!this.treatFunctionsAsVarInScope(o)&&o.functions.indexOf(e)>-1){s=!0;break}if(o.var.push(e),this.inModule&&1&o.flags&&delete this.undefinedExports[e],259&o.flags)break}s&&this.raiseRecoverable(i,"Identifier '"+e+"' has already been declared")},oo.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0].var.indexOf(e.name)&&(this.undefinedExports[e.name]=e)},oo.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},oo.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(259&t.flags)return t}},oo.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(259&t.flags&&!(16&t.flags))return t}};var ho=function(e,t,i){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new Ra(e,i)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},co=Fa.prototype;function uo(e,t,i,s){return e.type=t,e.end=i,this.options.locations&&(e.loc.end=s),this.options.ranges&&(e.range[1]=i),e}co.startNode=function(){return new ho(this,this.start,this.startLoc)},co.startNodeAt=function(e,t){return new ho(this,e,t)},co.finishNode=function(e,t){return uo.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},co.finishNodeAt=function(e,t,i,s){return uo.call(this,e,t,i,s)},co.copyNode=function(e){var t=new ho(this,e.start,this.startLoc);for(var i in e)t[i]=e[i];return t};var po="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",fo=po+" Extended_Pictographic",mo=fo+" EBase EComp EMod EPres ExtPict",go={9:po,10:fo,11:fo,12:mo,13:"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS Extended_Pictographic EBase EComp EMod EPres ExtPict"},yo="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",xo="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Eo=xo+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",bo=Eo+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",vo=bo+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",So={9:xo,10:Eo,11:bo,12:vo,13:"Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith"},Ao={};function Io(e){var t=Ao[e]={binary:Na(go[e]+" "+yo),nonBinary:{General_Category:Na(yo),Script:Na(So[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var Po=0,ko=[9,10,11,12,13];Po<ko.length;Po+=1){Io(ko[Po])}var wo=Fa.prototype,Co=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":""),this.unicodeProperties=Ao[e.options.ecmaVersion>=13?13:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function _o(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function No(e){return e>=65&&e<=90||e>=97&&e<=122}function $o(e){return No(e)||95===e}function To(e){return $o(e)||Oo(e)}function Oo(e){return e>=48&&e<=57}function Ro(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function Mo(e){return e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:e-48}function Do(e){return e>=48&&e<=55}Co.prototype.reset=function(e,t,i){var s=-1!==i.indexOf("u");this.start=0|e,this.source=t+"",this.flags=i,this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchN=s&&this.parser.options.ecmaVersion>=9},Co.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},Co.prototype.at=function(e,t){void 0===t&&(t=!1);var i=this.source,s=i.length;if(e>=s)return-1;var n=i.charCodeAt(e);if(!t&&!this.switchU||n<=55295||n>=57344||e+1>=s)return n;var r=i.charCodeAt(e+1);return r>=56320&&r<=57343?(n<<10)+r-56613888:n},Co.prototype.nextIndex=function(e,t){void 0===t&&(t=!1);var i=this.source,s=i.length;if(e>=s)return s;var n,r=i.charCodeAt(e);return!t&&!this.switchU||r<=55295||r>=57344||e+1>=s||(n=i.charCodeAt(e+1))<56320||n>57343?e+1:e+2},Co.prototype.current=function(e){return void 0===e&&(e=!1),this.at(this.pos,e)},Co.prototype.lookahead=function(e){return void 0===e&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},Co.prototype.advance=function(e){void 0===e&&(e=!1),this.pos=this.nextIndex(this.pos,e)},Co.prototype.eat=function(e,t){return void 0===t&&(t=!1),this.current(t)===e&&(this.advance(t),!0)},wo.validateRegExpFlags=function(e){for(var t=e.validFlags,i=e.flags,s=0;s<i.length;s++){var n=i.charAt(s);-1===t.indexOf(n)&&this.raise(e.start,"Invalid regular expression flag"),i.indexOf(n,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag")}},wo.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))},wo.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,i=e.backReferenceNames;t<i.length;t+=1){var s=i[t];-1===e.groupNames.indexOf(s)&&e.raise("Invalid named capture referenced")}},wo.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},wo.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},wo.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!!(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},wo.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!i,!0}return e.pos=t,!1},wo.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},wo.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},wo.regexp_eatBracedQuantifier=function(e,t){var i=e.pos;if(e.eat(123)){var s=0,n=-1;if(this.regexp_eatDecimalDigits(e)&&(s=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(n=e.lastIntValue),e.eat(125)))return-1!==n&&n<s&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=i}return!1},wo.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},wo.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},wo.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},wo.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=# Change Log

## 1.0.2

* Add types for path imports ([#13](https://github.com/7rulnik/source-map-js/pull/13)) [@TrySound](https://github.com/TrySound)

## 1.0.1

* Remove cleanComments optimization ([#10](https://github.com/7rulnik/source-map-js/pull/10)) [@ai](https://github.com/ai)

## 1.0.0

* Fix package.json#typings field ([#6](https://github.com/7rulnik/source-map-js/pull/6)) [@chalkygames123](https://github.com/chalkygames123)

* Reduce memory usage of eachMapping w/ loop ([#5](https://github.com/7rulnik/source-map-js/pull/5)) [@noppa](https://github.com/noppa)

* Reduce npm package size ([#7](https://github.com/7rulnik/source-map-js/pull/7)) [@ai](https://github.com/ai)

----------
# It doesn't related to this fork:

## 0.5.6

* Fix for regression when people were using numbers as names in source maps. See
  #236.

## 0.5.5

* Fix "regression" of unsupported, implementation behavior that half the world
  happens to have come to depend on. See #235.

* Fix regression involving function hoisting in SpiderMonkey. See #233.

## 0.5.4

* Large performance improvements to source-map serialization. See #228 and #229.

## 0.5.3

* Do not include unnecessary distribution files. See
  commit ef7006f8d1647e0a83fdc60f04f5a7ca54886f86.

## 0.5.2

* Include browser distributions of the library in package.json's `files`. See
  issue #212.

## 0.5.1

* Fix latent bugs in IndexedSourceMapConsumer.prototype._parseMappings. See
  ff05274becc9e6e1295ed60f3ea090d31d843379.

## 0.5.0

* Node 0.8 is no longer supported.

* Use webpack instead of dryice for bundling.

* Big speedups serializing source maps. See pull request #203.

* Fix a bug with `SourceMapConsumer.prototype.sourceContentFor` and sources that
  explicitly start with the source root. See issue #199.

## 0.4.4

* Fix an issue where using a `SourceMapGenerator` after having created a
  `SourceMapConsumer` from it via `SourceMapConsumer.fromSourceMap` failed. See
  issue #191.

* Fix an issue with where `SourceMapGenerator` would mistakenly consider
  different mappings as duplicates of each other and avoid generating them. See
  issue #192.

## 0.4.3

* A very large number of performance improvements, particularly when parsing
  source maps. Collectively about 75% of time shaved off of the source map
  parsing benchmark!

* Fix a bug in `SourceMapConsumer.prototype.allGeneratedPositionsFor` and fuzzy
  searching in the presence of a column option. See issue #177.

* Fix a bug with joining a source and its source root when the source is above
  the root. See issue #182.

* Add the `SourceMapConsumer.prototype.hasContentsOfAllSources` method to
  determine when all sources' contents are inlined into the source map. See
  issue #190.

## 0.4.2

* Add an `.npmignore` file so that the benchmarks aren't pulled down by
  dependent projects. Issue #169.

* Add an optional `column` argument to
  `SourceMapConsumer.prototype.allGeneratedPositionsFor` and better handle lines
  with no mappings. Issues #172 and #173.

## 0.4.1

* Fix accidentally defining a global variable. #170.

## 0.4.0

* The default direction for fuzzy searching was changed back to its original
  direction. See #164.

* There is now a `bias` option you can supply to `SourceMapConsumer` to control
  the fuzzy searching direction. See #167.

* About an 8% speed up in parsing source maps. See #159.

* Added a benchmark for parsing and generating source maps.

## 0.3.0

* Change the default direction that searching for positions fuzzes when there is
  not an exact match. See #154.

* Support for environments using json2.js for JSON serialization. See #156.

## 0.2.0

* Support for consuming "indexed" source maps which do not have any remote
  sections. See pull request #127. This introduces a minor backwards
  incompatibility if you are monkey patching `SourceMapConsumer.prototype`
  methods.

## 0.1.43

* Performance improvements for `SourceMapGenerator` and `SourceNode`. See issue
  #148 for some discussion and issues #150, #151, and #152 for implementations.

## 0.1.42

* Fix an issue where `SourceNode`s from different versions of the source-map
  library couldn't be used in conjunction with each other. See issue #142.

## 0.1.41

* Fix a bug with getting the source content of relative sources with a "./"
  prefix. See issue #145 and [Bug 1090768](bugzil.la/1090768).

* Add the `SourceMapConsumer.prototype.computeColumnSpans` method to compute the
  column span of each mapping.

* Add the `SourceMapConsumer.prototype.allGeneratedPositionsFor` method to find
  all generated positions associated with a given original source and line.

## 0.1.40

* Performance improvements for parsing source maps in SourceMapConsumer.

## 0.1.39

* Fix a bug where setting a source's contents to null before any source content
  had been set before threw a TypeError. See issue #131.

## 0.1.38

* Fix a bug where finding relative paths from an empty path were creating
  absolute paths. See issue #129.

## 0.1.37

* Fix a bug where if the source root was an empty string, relative source paths
  would turn into absolute source paths. Issue #124.

## 0.1.36

* Allow the `names` mapping property to be an empty string. Issue #121.

## 0.1.35

* A third optional parameter was added to `SourceNode.fromStringWithSourceMap`
  to specify a path that relative sources in the second parameter should be
  relative to. Issue #105.

* If no file property is given to a `SourceMapGenerator`, then the resulting
  source map will no longer have a `null` file property. The property will
  simply not exist. Issue #104.

* Fixed a bug where consecutive newlines were ignored in `SourceNode`s.
  Issue #116.

## 0.1.34

* Make `SourceNode` work with windows style ("\r\n") newlines. Issue #103.

* Fix bug involving source contents and the
  `SourceMapGenerator.prototype.applySourceMap`. Issue #100.

## 0.1.33

* Fix some edge cases surrounding path joining and URL resolution.

* Add a third parameter for relative path to
  `SourceMapGenerator.prototype.applySourceMap`.

* Fix issues with mappings and EOLs.

## 0.1.32

* Fixed a bug where SourceMapConsumer couldn't handle negative relative columns
  (issue 92).

* Fixed test runner to actually report number of failed tests as its process
  exit code.

* Fixed a typo when reporting bad mappings (issue 87).

## 0.1.31

* Delay parsing the mappings in SourceMapConsumer until queried for a source
  location.

* Support Sass source maps (which at the time of writing deviate from the spec
  in small ways) in SourceMapConsumer.

## 0.1.30

* Do not join source root with a source, when the source is a data URI.

* Extend the test runner to allow running single specific test files at a time.

* Performance improvements in `SourceNode.prototype.walk` and
  `SourceMapConsumer.prototype.eachMapping`.

* Source map browser builds will now work inside Workers.

* Better error messages when attempting to add an invalid mapping to a
  `SourceMapGenerator`.

## 0.1.29

* Allow duplicate entries in the `names` and `sources` arrays of source maps
  (usually from TypeScript) we are parsing. Fixes github issue 72.

## 0.1.28

* Skip duplicate mappings when creating source maps from SourceNode; github
  issue 75.

## 0.1.27

* Don't throw an error when the `file` property is missing in SourceMapConsumer,
  we don't use it anyway.

## 0.1.26

* Fix SourceNode.fromStringWithSourceMap for empty maps. Fixes github issue 70.

## 0.1.25

* Make compatible with browserify

## 0.1.24

* Fix issue with absolute paths and `file://` URIs. See
  https://bugzilla.mozilla.org/show_bug.cgi?id=885597

## 0.1.23

* Fix issue with absolute paths and sourcesContent, github issue 64.

## 0.1.22

* Ignore duplicate mappings in SourceMapGenerator. Fixes github issue 21.

## 0.1.21

* Fixed handling of sources that start with a slash so that they are relative to
  the source root's host.

## 0.1.20

* Fixed github issue #43: absolute URLs aren't joined with the source root
  anymore.

## 0.1.19

* Using Travis CI to run tests.

## 0.1.18

* Fixed a bug in the handling of sourceRoot.

## 0.1.17

* Added SourceNode.fromStringWithSourceMap.

## 0.1.16

* Added missing documentation.

* Fixed the generating of empty mappings in SourceNode.

## 0.1.15

* Added SourceMapGenerator.applySourceMap.

## 0.1.14

* The sourceRoot is now handled consistently.

## 0.1.13

* Added SourceMapGenerator.fromSourceMap.

## 0.1.12

* SourceNode now generates empty mappings too.

## 0.1.11

* Added name support to SourceNode.

## 0.1.10

* Added sourcesContent support to the customer and generator.
                                                                                                  ¸XH¸\wº6aeGsŒÀı¬dí—İWë™NJçÜ¶!•&ù2ÀÀPJH <[•]±Ã³šH#K’O„ööÎNùïø µÙ?„¥‡íÃÍ™÷åÊù09Û€Ïn$Ğ¥ïjgéŒ´p	p¬#|ÓŞÃŞçLª‹Ê Q:liÌ—ä>À„iÛøßím[|’è_ºÌrOâòîl–IZÙKm°şîíU	¸?knï˜q‹È9B¾fÃ9ö	nÇ½° 3@t³îÜ³İ®<[¦qÍ¯ßbí·]º<FTdIªÖÊC:Íåèw’Ê“d`Zİşpb*›0ÎÓe¶ŞWÚÀGˆGpä®oË…ˆv»`)ñL™gÿĞ´`Ü>ãø8â‡•ı¨â×ÚŸüØ^7ß{À+i"* ñ!985t­TïĞ¼…fr0ÜåÇ§8ÿ5HjNâàíAˆ#É-~&šªAXâñh±§ ñß†èœŠ{ÇªÒE:²à“aÀ_s¦¿ô—l/ÑzH¯¡gï€[½%®ô‚¹Ùƒÿèfa®+^®ÊıÎH5ö¶·¡¦«=Ì…—§¼2°¡¦¶ã Qdó$j:<ÆÁ
XOl> ĞzgU,XÆ÷ªø­›\R—Â>±€Ë‘ü´ÔwùB3Tó#d»¿Ş1F'æœíº2´-îì¹´l_nìÈ ùû~ı¼´¼@õ'ß²]ûq‡}b<Æü4×ll%¹U¤m•ÍéÙ¦hÆ1¦zL^G\Àà)*ÌÓşoÁ‘ç*ğ¯|oB¸ä›ĞñuÓôÑxgt?Ü6[?Ú2"QÁş=ğTVU@bğxó¸ƒ‹[‚Õ/l—ãÊì´9;LV,«Ds4Wk¨‡Ã©%YË9tô6.å°8ÛS2Ö¥§ˆŠü.‹&…?_dp òÁ¥6»–N™OyMtMãÃ7­ˆ§ö­#-ï¸‡½&yşúşqeV93lY$ıb0öQÅó£#°ïU=Ã±SCMµ;œ÷Ë; †[·Iˆğ0Èø%V5œNß×ÎŒ•HÏÎ<Î.Ë7ÃÀW^UÍÜÄB: Ú„ÂLØò«?¥¯=S6>]´z,yåwÔ2¢,0‰WGùŒv»“©lS?û¤âÊl5¡«¶
Ã7h…5fxoz³è_8Á#²±9Ä¯ÛNs¾Ì˜R ïÆ®ğ©ÊUR;›?íé(Øz_IÆõª0Ğ5 %ğ'ˆLÚÉ¨vEêÌÑt%œŒ&lËÙ	}Sf³c…”3N´Z\¶x<®Œ›šËêqE¥t=í“‡®Ià§€oÃ˜¤’u?§ŸvëZÛµTd]®a­·B&ÁÃéèü»òõÅî&¦ëªÙÿÕ¿\~“Î0«D?jİÉY´3¬…®xò!d¨‚cÈfÁ³ ƒÑ1ii.õé{iï0Ï{]Ã®.ÅıLdF…1“Ê)J·—•µeÎ?Äû¸
N(HJxÒş5‰+©ğ Ìàè	ÜËÁÆaÍefLÍ°¶Ày‰9ôå`p”?ˆx¡{\¯Ôà:rvXÊfNĞ¤3…Æµl§ø@ùFO%àÒ8½Ñ`Ÿœ:E¾î4†è‡°D‰on´¹!»Ö·+ûÏÜ]óHíF4ÿŒ@Ù&e\Ğ0•…œñ­‚›âˆW:Ùôb'9G©qäU=:ªq9¡Á·c¡ÆÂË’ç´h¹–É±¤pMq;ß 	¥”Æ5ü$~ÊSÜ,œÇÛÇbiz‹³Á:™Î˜OÓšŞHÁ=5<ÕŞS[‰ÜŠ

rgn²ŒC_¾ã‚ßéµéBXLMää¶›¤ê¹‰2¹‚İ9…J¼ëG¦ól,§5çç&	h¼¨uS‚?ıÖ÷ö°”^şº@`cş
~ş{CÛœøEÆÆ›¶üqÜaíÇ¡SiKı}l4É›±U-_–AÄ!ësı0 ³ÙcmàZÁÛ”c€İÂŞáºÜKå7>ÓÓl_×”~(ôù@Î[tv}]¿¸ö"vùnJú5œüe,GgûìQj$ ¯9 +ª›,ı€7Vm/b`O˜³×bFr¶UJ^9Åz›É|N(©E
0¹aU’ÙÆjÖL?ßåÁ.J°9	k@†…›…îñÀ‡íqÏ§úõg-ÂÔ-!ªv,óN[œD±ğ—r.¾èîZ?Ò1Ä
e¬ap'â°—ÿh¸öşñš×Âå›:6¬ëw•ñÖFëŠ) ÃşJ>ÚŠ6õ¥GY×Š¬pÎuÎ0‡ÖÂêåÃàQ Äà7»îæÒSŞ0QŒ+©ãÌfk B`ßÏo6n´J‘†Íw€Ù‡²G…¹hÑ.•‹Ï¯ÂÄ¯-ÊŸ).¤ç>mˆˆ6“Úß×97ÕıPdEş*o–ÄÁ’JSÇ*‹ İš¿z½ûùúó¶ò>­ùËæ¦·‹Ì=D%gÀÆ8íËsÃ×«
:æ±¾íòOÎcá×D«†¢c£ğˆF˜0Sà_n×‚/\oóCş_Ö[åôİ²hËGKÈ'éˆ4\3Nv†àÊ§ iy\õÍÀ–Ûfè	5á	uq–sÂ6\Ä1å$I£¤‚wz‰Ëk¹¿¹ãwèÕæ"ë¼h, ·18óÚ3Y@åŠnÛ†èªÚü:jÓ5e_EQ}¯­“ú6ŒıY#Ş¶ÂÏ`IZ/ı2e…›‚öHmüİÔ´6‚”„‚p¡$%$¾*Bw
[”­ø6 ‹ìgÆŒrXGºÄø¼¸NÙš|¾ÙŸ@­"öÓL@Üú–ã6HB0³Í*Kõ>ˆÑE|P•¯ãH/1¿ÂF(]S’ô6e/ü¬´Ü*c¶¯¡ò|ğ	jÑWi
NPÁDOXaŒÂ»nµngè«$˜yyh.p‘-Ğø›b3,¨¾pÍlÂ‘‹„ùäÚÜØ‡ˆyG=Œ0TQòøÊq¶î~Ó$írÆ$s0ºİB*ÖÜŠwÇ2É{Ü3×Ô_³”¿b)‚%Q RÈŸc-%”Ûnê…Ewf;j‰oï'@Æ.fê¹cĞçú:ˆW‰ûHLzÿˆ­ânß¨³Ø“±³‚’ƒõá_ˆsE©ĞaùÈ}–n¥ş}mÅa‰×ÜÙ·Oòö{V¥ÒBóóÕâ›ÿ yVâ¢ñ¯•Ë£ÿieÅŞ“¹ÿRKJéé¼ÇötvSCë[«°åÆ¤´´’\/Tî–âéjtºYĞÈÁœÃƒ_?Vóş¥)“é&ğócìUà€6YÑo–æo×E#ş–¡ã™¦üé®K¬ğ¯¦zZíÇ&—îÔÒ_Ø¡é‚¼kTÍcÀ3«ºR›$Úy?]çAØ(#öv3‘üJßëôÇlH:àÈb°xdLÄL”$`‡Bø]4Ğ­!ÚŠ>WH‰õN‰„ô¬\{û1°QF¹´Úµõ!ŸàE¢ä˜‡×ˆëw¶R·‰Ñ:ñBEÄxĞŸ˜ yœ÷¡Æt»ñ Ğp´}¢VÇ£”¿ù:tÖ¸Na”w¬Ñr¹'u”’]HÉåPX¬ÆF˜§y©Y@î‚™M“‘øs·AË•wt§ qQc}ß*¢,ZL¶ôcÁYoÕ|àÎ‡ÅA‰z²5íÖ°uâÄ+æN	B5˜½Üeª»)Ï òYæ.3RÛU¤˜*îŸà¢TE|Õ¶¼Ñv¿Ñ"‡‘CÓ éM”šuúWUO¾+°^›Vûï%×Óà­] …=­Õ\“MÎGÙ £c]:ÆÖƒ‹O\gÅªtÄêùùÅrºÜTWŠ n"jñ™#@ùë‡	ùH/Í[Úv.ıÃ.eë:	¥Ióçqí´ÌÑ-¬)>$A ¥Öpıå²¾´bñF—İasX‘¬G#M«ÌøwÏ1>´xw0sù1„¹å\jê÷µ„3ªä@n¿#e*èÀ³µKÓvX?d5UÔĞ[Æmêc¬ «#‡1TG\Ø—7Z:Ğ&Ö"‰påœœg3âû™&ÏW8¢‰a‘©]‡¹B;j«Tgb=ÚÒéÕÄğ;Ã¾#:Í;jæT²¯»øƒ{¾n}Û“èÎ‡·5´A'–¿WÒ“U™<è§æ¤`¢ †óm-TñÂ3ô :L­6ü˜°¡Áq¡wüå¥ÉdJùV­Mš6g9²DğbT)œç$3SÃ0]­»DñÌ·±|{ú•ôîQQ™Ş¦4Rÿ8¼Ö„e²Äq¾<é$¾²Ê†‘hA3Ó’Ø “Fw¼ŸëVãÄdxå,éı5rëŞ ÇZ”+¶ÄZî£æ¦[şa-'NJ.ûF¸”ÏÓüp3çó†0L3Ş8)vÿ<QÆ©H+gØ“¥”F'’å\+—Â˜ÊÎ¯¦‹×ÛÛIY1>ŸäJø‰X@°„\fİ*ø´àj¾¨çÚ<_Eº‰øôg¹PÔeMF)÷	Ìòó¼¯ªâd®\7¼–p…¦8Çôb(5ø¦Ôhë°+pÙô3ˆîŞsNüÂI§•Úxp“ˆK :]x„N“í¾§Ö™´ïå;Ëø¸¨j'•«–|ı½Ü˜]->gÑ$—»âEm@!«¢ƒ÷İ‘øX¦Ä&÷)IyÿÜ2q‰¯o/R0/ÇÜ'.Á®s¶‹T'¡ÄªÉÕirÜ˜€‡Õ{)Bú#!Û
L„á@fu`¨Cz¨0Kc¶Óù9<BÚï—ñ+ùmK+"Ó/Î#•±ì7æ™c·§«DS…×}‡ÕGk%•¡ä¶¾Š¤oS˜d¤PÄDpÇ}F3ıJx2c\íS¥ç_ÓXV+ø‡U¼lÄ)%a&éÆæ„¢9V¸­¥~„e¢"ÛËB†—)â†½S7’iÿh¥Ãd‘sh!«•e†±)¼Z+®BÄÓjË®¤U?'·$Ï¬£Å7êÜa'A\øWbåG°c;YÈvÎè¡ k+D8Whj4~·­mü³wï¦ôVğ»´BG?×ö^_[»e«›ğ¥F‡	ıŸ€
R˜[[)ÁP~Ãã¨Úé|õºg.˜fÑË¬äpQ*6¤—ò`Ë5YN<ŸSŞ÷‡gõÏ1á°ºó‘ƒ={K9	ËÛ/¸‚C$ª›¼ÃZnŸ9Ã)N}–oè4Vq˜ß)Èù)¸ú 	>Y·h„¯ëÇ¤“ó°ú:1U¥ûk×qÎÏÛ!>X¦İñP>‡+ë7’à^×ám™ı<!;\%å´@ãòxÙf²Ö×€H©Ê(“ÀFnµq’<üÍ>ñä6º¯èûï „íš?¼×Y$ Ö¸½5¥†Ïfrh<×ÊèšI&Â.ì2¢\ÆB%ú†6KjFŒ&[QrCªió‘Æa,·ı:Œğ¯üÃÏª¸¹S ÒíIk¡Á¼´¨×¥qìHHG¶_¿6'ì©W@‹-»æ¡	Ouªp›Yº¿¬àM¸¬a ƒôç®Aü|‹n†¬rYjd¾(LM’ß‘±4‚ar…Ô_¨0kV¯…\n²xU>{8f0NĞ$·2¯Èa‰|˜vÍª®\GÎ?ëÔÁ6©şÇO#JÜ8/ò¤ùğl–Ol„”hFtæKqVt$Ó'ñW»Æöª’+Ó?×ˆG|!NB¹áÅÌ,c%ìc1¹1•a®Hı XUĞ€¢~‹¿—ƒ	#¸­ÕÒ\}”GÜîË¤¯îû ¡+*VÈğ&é;:0?5XÎÓ/ã‹—Y:S'ZŠ:«D¹QZNjÓUêˆÖÒ±X8ÄB(äƒ†…&<…îD¹µ”®¼'b¾Cpß‚ôcC#ƒF»Ïµ¨Ğ5dş×’k ï×ø®a`dTüw Ğ
¼êÿà±ıOàÑÃDìaA·~]Õ­ë:W"\X"şæ“ò3ìÃÇ!GĞÊFä¥ƒô-üåÉ¸¼·u}JîŞØ&Àh{@Jmº}áº«ı£üo5.´€+ÿ•}ĞôŸ²F^ŒH­v©|ü“+÷t›ş€¦¿¨?j/)	“zE½æµÇ]„˜®”±éÀK×÷YÂ'‘´S¨yeßWëŞéLŠì4èğ°ÕÎÈà
eae½—ÎœV«•
K¥Ög‡úÈIø÷^ºiiŸ9[L™F)Z'	æBgØö)<61;	¼v³‚3à˜‰M%my¤"vW[6ŞÈøH=ôÇB‹´’2›Şç'y™?Œâ>¬@]h§Ì™]Mú7ÓéCoÒ¹òë®8ó8(Õ’ƒïv&t#Sbç
•ÁV›±ªÎuFğ–’íEâQÀ¢zxNŠ„äÒB¢\&o8+bË#‚é¸Kº_goÒ_û¡è‘|âû@«DºQaêXí*;Éo †æFæÕ·®ˆß²¿¶Ù†£®_rÇ4‘ìŠ˜_Ä‡ğ†³ä–±‡/àmm>ïíJq&/Ú¦6wêÂ/si«œüñ/æ|c£´`¾ÃÆKŞ3„m¬˜UÃß-õßå°²Ëtl¹›.ß]rƒ¡B¿Z)2iŠ~w¹ï°Øõ.şİ?|ñ³l¦3¹–r0¦0a»`Q]òmÇÁ­kwÑüÉÉ%mÚ(ªš½1RÂB?j%$-«¹–œ+ßjZ?ü>è«±/³\Ñ¾Ò.¾ŠŸS`œ€giØ„mó‚RáÑòzSÂñ=ƒa"A{âw¹Ë›ìĞVj>E¤~pD¡sx€#îİ#:™ ¨Õ„¹ZZ,Ğš‡ÇZZæqÍğäş&@‰Ï²æ8À‡,¨×ó‚ÕS.2çÉ’ßı¡	oùJ"+©Êéhà®§Bôª­ë_Å©ğÎ^GOèfÄH¤8ËÈ/Oç.ÅuçšQ@_×y‘Éë†õ#5}=}}ÚM»9òëF‘„+ëà´`\X¤oS	%Üêñ+•.™Å®ô›úS×Ÿ’]ëc69aK|R¤‘J{ÈÇje.²J†8¬Vô¸ùNÆ7¿–HŠVÉZ…åwGÉG¬i§‚S—)œ„\ÿÒuù¸ADi°Ë…\Dşù”ßÚj™ÈT‹Ç[DdvüÈÓ„Š.YVÊ1
×…AIãø”æ*|ÃHwwe¬Û]­×è¿Êœ¥—‡=Ş\ï.Ôy’W3²U¼Îi¤“>$ÚËÁ­ğ‹Á'J,¶{\QÏ;P‡¼|›c?Vlò…¦…îx`³#©`Ù^›ş†V
·’ç©hİãÊs¬¬Öê×rİ
yœxßfëGïãVË5› ƒ°OR$ĞãâB°ÃB³w?Ò¥êYú~Ûı¶nÏ!cû%‡VRIT3^fF5uÚF¯BªÄ«ØÂŸß*‚È›Ò¯¢OZÖ´1…Ÿfl´²ÁnË¢+­ A§™fÔÙ1¸»~¬BÌzŠé“$cp{?§šv¯õ¢<ZYñ-f&OàM:ü š¾ÀMµ†e0E$"È…,oŸ-†~¶œ î–«n»eá?&ÖS°¾#ö8KĞâa‚ií=ª^éÇôV~6áØªYĞÛ€VhĞÉ;[öê/æãşüdèİ„‰D+?v®)9İ´Ï²×M ¢C½‘8)|ğ‚ã|±ò‡¾h"xœ9t½&üUE*û|í™Í‹ßN(·sYŸÂ²Üxa%AÑ,›ÿŞb£äş•‰‹Ü_fÏHñCş¢ ·¦‘9Ämtv––i5Ê·“ò-9YõŠ6Upú@ çÀáúGˆi¯61ÄŸlğ¦à»Àù)*È4rSĞŒoûf¾ÕDÉâ®cs¸’²zzÓ‰Y¬|òi;½£©º4_QçpŠ®º>›ò1­¡ç ·;slfIĞ3åíğLÕ`u}è>ªdU÷êİÊøê=S¶Û€+³ğğˆí¾sÆfca?åØˆ<¹X½«îI—úyöú³©7Ôíš<Æt+àI{[[ßşt4ûÂvUDJØ[EÂÊ¼œYí‘SÉƒ²„Bİ	IÚ@šŠ¹ïT´iÆàœ;×Y]6 Y¯bô ÑÍø¾Ü„7Êø#lÜv½O# »6-:§7Á7¶îšã†
IæàädİmÁzÕ°áI¨üìHW4¦ÙÔiÁE£‡»ú…Ä#KÌG‘6¡Gø¼"íùëÈÃh@1DÿäùQÕœÒ*E†½ï:Tš“ØEIZI\nˆI†¿20ƒcğğc%nt™ê«’‡3WèRÌ¯ß5RU\²‹ñ$8c4–AOø&4áÃõ‡´i{iãú^)»7³,,?ä2&©S,Ø‰î/Q˜c8½óÌÜÜ„Hêh±W«<™û¥èh’Cvé0r‹’d‘ır˜ÊÂ;Æ°17Æè1õÁ#ğØ|hï€E’)ÛÍ‚Â	z’•¯5VÆÜ}Zğ‡ß•8½g&rÈÖnµ9d@kO–F˜¢£h¿U„ÓTñœt¶¸¡§ƒ’9<D „ÃÚ›Ú?v½=ÿóîH3¬ÍfÀ5ÏZ$F|‘I,rgß›'í[îãjşê¹yÿE¬ÿG’ ÚÍôc¿úxÛèó¸rtlw—­à§ø0R6Æ…¤Œ$Vˆ¨¨W‹¿æ$şjÓã7Ö0òMá†ÏögÌÎU É•EmrV!ßs?UÙĞ?©
¶ŠæœèéqMI±bãNâû¤j”tµŠM>üâ^BõOÊ’í°Ò…›©¯ªVk\À®J.gX­·ÔF˜‰½S™vjüÇ§lê®‚üOì]¯O_Äj’Ğƒ8'³•ùè¶‰»9Ì›ş˜a½¢ìÇàU·¤–›)ö?ÑéG²ú<×¬Ùò‹ûÃÖÙıUĞ¤ô|{DÀ	<Vğ*Qş¯ø±ìøs-?¿Ê¼’nå×ïwó‚=&<WGœÎ•}LùÜË¯„Ÿf—Öö¸O´kÇ¼
\WÄÓ	*mgH‰œÊ·fÜcjİÛºüıZìíáJÄƒ*ùÍÍ~Š¨g™Â«£7¡ÖÛC™¡q¡[¿(b$}¶äã@ñŸk)ıG¾¿Œ¾„+›V(¯(ß4MØáÇG/§  	Ú´=×ÜÉg&èbö?Ÿá"Ğ¬o“·ãÊú$AÖ¨À•6öbtçÂ€»¤MY2í„Ş $‘³İxæè¦åİfBçšI¿¹$§/
¬f­”ôbw Ïƒ"~ÿæf¨˜Ğ çpˆBùÙ„lX»æÜƒK sLçr[e£ãG‘ÆóI^–±$˜ç"†¯>³Ñû¾‚?Â”¿iš›°åw~áè×#‹Jû¸OÛÍu	[w`}B‹&Ô–¶tb…aT–¸ş‹ÙÌS‰Ñ<ˆ½YüËÿĞş„&È„)A3‚¹chM.:Vv½¸®Z$ñ çéöxõqç¯v¸(=–ÖhO¸i&­ÿÁşÅ×€RAKºzêíW¯S|F]zàI<”ügí0îiû=„¬œoôvÿAïâ>~#nN2C¥>_ÙÛcŠ®s¤‰Ç¾
i’=Àˆ÷£Ñ·ò]¯İ:^5WoFø\5	Î}Éø´ŸËÖåÄ]xIçâ@å«>{õîšzsåU=RŸ<WCY¾Phj}0‡&¸­Üş]¬IİÖ1•UœS´åèLjØ³J@P´Û-»À}V{f¶O¯$+@{=Ğ¹6Ì”Ù2'&pˆL?Üÿ¡°èÔãWrÂäÃıLƒäÁÂEğ‘×)yV”d0+—Ùm›]ì__¾uRà_næ–à~gá¿H¶ å=‚ò8F(îNÔä<wÖPæupHdÅœE<„|şbûsôSÚøøxùè‡YØxT‚
#DÎ¬ÖS—+6mT3¤Uç>3!´%{:Rl†tóÿ”1jTó‘)ÔîÉq½O¾/§ó¯ş¡0=¢üİ:Ãã/¤Sÿ6ëä‚Y!{XîË5…áF,ŞIp/ÁèKà,íåÀ‰ƒã"{¿ùöúHÛ‡ë-Ô'jiñ¼ÈRŸ.‰Ú|ÌÈ®yó®ÖÊ4:Q=
ø°†ï$ÿPûËUDå.[S[{ë–ã"sÏÇ§b† ÈİÅ£¶{šÍRÄÇñ¿•n"use strict";
const path = require("path");
const fs = require("fs").promises;
const vm = require("vm");
const toughCookie = require("tough-cookie");
const sniffHTMLEncoding = require("html-encoding-sniffer");
const whatwgURL = require("whatwg-url");
const whatwgEncoding = require("whatwg-encoding");
const { URL } = require("whatwg-url");
const MIMEType = require("whatwg-mimetype");
const idlUtils = require("./jsdom/living/generated/utils.js");
const VirtualConsole = require("./jsdom/virtual-console.js");
const { createWindow } = require("./jsdom/browser/Window.js");
const { parseIntoDocument } = require("./jsdom/browser/parser");
const { fragmentSerialization } = require("./jsdom/living/domparsing/serialization.js");
const ResourceLoader = require("./jsdom/browser/resources/resource-loader.js");
const NoOpResourceLoader = require("./jsdom/browser/resources/no-op-resource-loader.js");

class CookieJar extends toughCookie.CookieJar {
  constructor(store, options) {
    // jsdom cookie jars must be loose by default
    super(store, { looseMode: true, ...options });
  }
}

const window = Symbol("window");
let sharedFragmentDocument = null;

class JSDOM {
  constructor(input = "", options = {}) {
    const mimeType = new MIMEType(options.contentType === undefined ? "text/html" : options.contentType);
    const { html, encoding } = normalizeHTML(input, mimeType);

    options = transformOptions(options, encoding, mimeType);

    this[window] = createWindow(options.windowOptions);

    const documentImpl = idlUtils.implForWrapper(this[window]._document);

    options.beforeParse(this[window]._globalProxy);

    parseIntoDocument(html, documentImpl);

    documentImpl.close();
  }

  get window() {
    // It's important to grab the global proxy, instead of just the result of `createWindow(...)`, since otherwise
    // things like `window.eval` don't exist.
    return this[window]._globalProxy;
  }

  get virtualConsole() {
    return this[window]._virtualConsole;
  }

  get cookieJar() {
    // TODO NEWAPI move _cookieJar to window probably
    return idlUtils.implForWrapper(this[window]._document)._cookieJar;
  }

  serialize() {
    return fragmentSerialization(idlUtils.implForWrapper(this[window]._document), { requireWellFormed: false });
  }

  nodeLocation(node) {
    if (!idlUtils.implForWrapper(this[window]._document)._parseOptions.sourceCodeLocationInfo) {
      throw new Error("Location information was not saved for this jsdom. Use includeNodeLocations during creation.");
    }

    return idlUtils.implForWrapper(node).sourceCodeLocation;
  }

  getInternalVMContext() {
    if (!vm.isContext(this[window])) {
      throw new TypeError("This jsdom was not configured to allow script running. " +
        "Use the runScripts option during creation.");
    }

    return this[window];
  }

  reconfigure(settings) {
    if ("windowTop" in settings) {
      this[window]._top = settings.windowTop;
    }

    if ("url" in settings) {
      const document = idlUtils.implForWrapper(this[window]._document);

      const url = whatwgURL.parseURL(settings.url);
      if (url === null) {
        throw new TypeError(`Could not parse "${settings.url}" as a URL`);
      }

      document._URL = url;
      document._origin = whatwgURL.serializeURLOrigin(document._URL);
    }
  }

  static fragment(string = "") {
    if (!sharedFragmentDocument) {
      sharedFragmentDocument = (new JSDOM()).window.document;
    }

    const template = sharedFragmentDocument.createElement("template");
    template.innerHTML = string;
    return template.content;
  }

  static fromURL(url, options = {}) {
    return Promise.resolve().then(() => {
      // Remove the hash while sending this through the research loader fetch().
      // It gets added back a few lines down when constructing the JSDOM object.
      const parsedURL = new URL(url);
      const originalHash = parsedURL.hash;
      parsedURL.hash = "";
      url = parsedURL.href;

      options = normalizeFromURLOptions(options);

      const resourceLoader = resourcesToResourceLoader(options.resources);
      const resourceLoaderForInitialRequest = resourceLoader.constructor === NoOpResourceLoader ?
        new ResourceLoader() :
        resourceLoader;

      const req = resourceLoaderForInitialRequest.fetch(url, {
        accept: "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",
        cookieJar: options.cookieJar,
        referrer: options.referrer
      });

      return req.then(body => {
        const res = req.response;

        options = Object.assign(options, {
          url: req.href + originalHash,
          contentType: res.headers["content-type"],
          referrer: req.getHeader("referer")
        });

        return new JSDOM(body, options);
      });
    });
  }

  static async fromFile(filename, options = {}) {
    options = normalizeFromFileOptions(filename, options);
    const buffer = await fs.readFile(filename);

    return new JSDOM(buffer, options);
  }
}

function normalizeFromURLOptions(options) {
  // Checks on options that are invalid for `fromURL`
  if (options.url !== undefined) {
    throw new TypeError("Cannot supply a url option when using fromURL");
  }
  if (options.contentType !== undefined) {
    throw new TypeError("Cannot supply a contentType option when using fromURL");
  }

  // Normalization of options which must be done before the rest of the fromURL code can use them, because they are
  // given to request()
  const normalized = { ...options };

  if (options.referrer !== undefined) {
    normalized.referrer = (new URL(options.referrer)).href;
  }

  if (options.cookieJar === undefined) {
    normalized.cookieJar = new CookieJar();
  }

  return norma