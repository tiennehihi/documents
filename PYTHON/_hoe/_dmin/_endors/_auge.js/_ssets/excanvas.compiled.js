RR_UNSUPPORTED_DIR_IMPORT(filePath,(0,external_node_url_namespaceObject.fileURLToPath)(base));throw error.url=String(resolved),error}if(!stats.isFile())throw new ERR_MODULE_NOT_FOUND(filePath||resolved.pathname,base&&(0,external_node_url_namespaceObject.fileURLToPath)(base),"module");if(!preserveSymlinks){const real=(0,external_node_fs_namespaceObject.realpathSync)(filePath),{search,hash}=resolved;(resolved=(0,external_node_url_namespaceObject.pathToFileURL)(real+(filePath.endsWith(external_node_path_namespaceObject.sep)?"/":""))).search=search,resolved.hash=hash}return resolved}(resolved,base,preserveSymlinks)}function fileURLToPath(id){return"string"!=typeof id||id.startsWith("file://")?normalizeSlash((0,external_node_url_namespaceObject.fileURLToPath)(id)):normalizeSlash(id)}const DEFAULT_CONDITIONS_SET=new Set(["node","import"]),DEFAULT_URL=(0,external_node_url_namespaceObject.pathToFileURL)(process.cwd()),DEFAULT_EXTENSIONS=[".mjs",".cjs",".js",".json"],NOT_FOUND_ERRORS=new Set(["ERR_MODULE_NOT_FOUND","ERR_UNSUPPORTED_DIR_IMPORT","MODULE_NOT_FOUND","ERR_PACKAGE_PATH_NOT_EXPORTED"]);function _tryModuleResolve(id,url,conditions){try{return moduleResolve(id,url,conditions)}catch(error){if(!NOT_FOUND_ERRORS.has(error.code))throw error}}function _resolve(id,options={}){if(/(node|data|http|https):/.test(id))return id;if(BUILTIN_MODULES.has(id))return"node:"+id;if(isAbsolute(id)&&(0,external_node_fs_namespaceObject.existsSync)(id)){const realPath2=(0,external_node_fs_namespaceObject.realpathSync)(fileURLToPath(id));return(0,external_node_url_namespaceObject.pathToFileURL)(realPath2).toString()}const conditionsSet=options.conditions?new Set(options.conditions):DEFAULT_CONDITIONS_SET,_urls=(Array.isArray(options.url)?options.url:[options.url]).filter(Boolean).map((u=>new URL(function(id){return"string"!=typeof id&&(id=id.toString()),/(node|data|http|https|file):/.test(id)?id:BUILTIN_MODULES.has(id)?"node:"+id:"file://"+encodeURI(normalizeSlash(id))}(u.toString()))));0===_urls.length&&_urls.push(DEFAULT_URL);const urls=[..._urls];for(const url of _urls)"file:"===url.protocol&&urls.push(new URL("./",url),new URL(joinURL(url.pathname,"_index.js"),url),new URL("node_modules",url));let resolved;for(const url of urls){if(resolved=_tryModuleResolve(id,url,conditionsSet),resolved)break;for(const prefix of["","/index"]){for(const extension of options.extensions||DEFAULT_EXTENSIONS)if(resolved=_tryModuleResolve(id+prefix+extension,url,conditionsSet),resolved)break;if(resolved)break}if(resolved)break}if(!resolved){const error=new Error(`Cannot find module ${id} imported from ${urls.join(", ")}`);throw error.code="ERR_MODULE_NOT_FOUND",error}const realPath=(0,external_node_fs_namespaceObject.realpathSync)(fileURLToPath(resolved));return(0,external_node_url_namespaceObject.pathToFileURL)(realPath).toString()}function resolveSync(id,options){return _resolve(id,options)}function resolvePathSync(id,options){return fileURLToPath(resolveSync(id,options))}const ESM_RE=/([\s;]|^)(import[\s\w*,{}]*from|import\s*["'*{]|export\b\s*(?:[*{]|default|class|type|function|const|var|let|async function)|import\.meta\b)/m;function hasESMSyntax(code){return ESM_RE.test(code)}var external_crypto_=__webpack_require__("crypto");function md5(content,len=8){return(0,external_crypto_.createHash)("md5").update(content).digest("hex").slice(0,len)}var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P((function(resolve){resolve(value)}))).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};const _EnvDebug=destr(process.env.JITI_DEBUG),_EnvCache=destr(process.env.JITI_CACHE),_EnvESMResolve=destr(process.env.JITI_ESM_RESOLVE),_EnvRequireCache=destr(process.env.JITI_REQUIRE_CACHE),_EnvSourceMaps=destr(process.env.JITI_SOURCE_MAPS),_EnvAlias=destr(process.env.JITI_ALIAS),_EnvTransform=destr(process.env.JITI_TRANSFORM_MODULES),_EnvNative=destr(process.env.JITI_NATIVE_MODULES),_ExpBun=destr(process.env.JITI_EXPERIMENTAL_BUN),jiti_isWindows="win32"===(0,external_os_namespaceObject.platform)(),defaults={debug:_EnvDebug,cache:void 0===_EnvCache||!!_EnvCache,requireCache:void 0===_EnvRequireCache||!!_EnvRequireCache,sourceMaps:void 0!==_EnvSourceMaps&&!!_EnvSourceMaps,interopDefault:!1,esmResolve:_EnvESMResolve||!1,cacheVersion:"7",legacy:(0,semver.lt)(process.version||"0.0.0","14.0.0"),extensions:[".js",".mjs",".cjs",".ts",".mts",".cts",".json"],alias:_EnvAlias,nativeModules:_EnvNative||[],transformModules:_EnvTransform||[],experimentalBun:void 0===_ExpBun?!!process.versions.bun:!!_ExpBun},JS_EXT_RE=/\.(c|m)?j(sx?)$/,TS_EXT_RE=/\.(c|m)?t(sx?)$/;function createJITI(_filename,opts={},parentModule,parentCache){(opts=Object.assign(Object.assign({},defaults),opts)).legacy&&(opts.cacheVersion+="-legacy"),opts.transformOptions&&(opts.cacheVersion+="-"+object_hash_default()(opts.transformOptions));const alias=opts.alias&&Object.keys(opts.alias).length>0?normalizeAliases(opts.alias||{}):null,nativeModules=["typescript","jiti",...opts.nativeModules||[]],transformModules=[...opts.transformModules||[]],isNativeRe=new RegExp(`node_modules/(${nativeModules.map((m=>escapeStringRegexp(m))).join("|")})/`),isTransformRe=new RegExp(`node_modules/(${transformModules.map((m=>escapeStringRegexp(m))).join("|")})/`);function debug(...args){opts.debug&&console.log("[jiti]",...args)}if(_filename||(_filename=process.cwd()),function(filename){try{return(0,external_fs_.lstatSync)(filename).isDirectory()}catch(_a){return!1}}(_filename)&&(_filename=join(_filename,"index.js")),!0===opts.cache&&(opts.cache=function(){let _tmpDir=(0,external_os_namespaceObject.tmpdir)();if(process.env.TMPDIR&&_tmpDir===process.cwd()&&!process.env.JITI_RESPECT_TMPDIR_ENV){const _env=process.env.TMPDIR;delete process.env.TMPDIR,_tmpDir=(0,external_os_namespaceObject.tmpdir)(),process.env.TMPDIR=_env}return join(_tmpDir,"node-jiti")}()),opts.cache)try{if((0,external_fs_.mkdirSync)(opts.cache,{recursive:!0}),!function(filename){try{return(0,external_fs_.accessSync)(filename,external_fs_.constants.W_OK),!0}catch(_a){return!1}}(opts.cache))throw new Error("directory is not writable")}catch(error){debug("Error creating cache directory at ",opts.cache,error),opts.cache=!1}const nativeRequire=create_require_default()(jiti_isWindows?_filename.replace(/\//g,"\\"):_filename),tryResolve=(id,options)=>{try{return nativeRequire.resolve(id,options)}catch(_a){}},_url=(0,external_url_namespaceObject.pathToFileURL)(_filename),_additionalExts=[...opts.extensions].filter((ext=>".js"!==ext)),_resolve=(id,options)=>{let resolved,err;if(alias&&(id=function(path,aliases){const _path=normalizeWindowsPath(path);aliases=normalizeAliases(aliases);for(const alias in aliases)if(_path.startsWith(alias)&&pathSeparators.has(_path[alias.length]))return join(aliases[alias],_path.slice(alias.length));return _path}(id,alias)),opts.esmResolve){const conditionSets=[["node","require"],["node","import"]];for(const conditions of conditionSets){try{resolved=resolvePathSync(id,{url:_url,conditions,extensions:opts.extensions})}catch(error){err=error}if(resolved)return resolved}}try{return nativeRequire.resolve(id,options)}catch(error){err=error}for(const ext of _additionalExts){if(resolved=tryResolve(id+ext,options)||tryResolve(id+"/index"+ext,options),resolved)return resolved;if(TS_EXT_RE.test((null==parentModule?void 0:parentModule.filename)||"")&&(resolved=tryResolve(id.replace(JS_EXT_RE,".$1t$2"),options),resolved))return resolved}throw err};function transform(topts){let code=function(filename,source,get){if(!opts.cache||!filename)return get();const sourceHash=` /* v${opts.cacheVersion}-${md5(source,16)} */`,filebase=basename(pathe_92c04245_dirname(filename))+"-"+basename(filename),cacheFile=join(opts.cache,filebase+"."+md5(filename)+".js");if((0,external_fs_.existsSync)(cacheFile)){const cacheSource=(0,external_fs_.readFileSync)(cacheFile,"utf8");if(cacheSource.endsWith(sourceHash))return debug("[cache hit]",filename,"~>",cacheFile),cacheSource}debug("[cache miss]",filename);const result=get();return result.includes("__JITI_ERROR__")||(0,external_fs_.writeFileSync)(cacheFile,result+sourceHash,"utf8"),result}(topts.filename,topts.source,(()=>{var _a;const res=opts.transform(Object.assign(Object.assign(Object.assign({legacy:opts.legacy},opts.transformOptions),{babel:Object.assign(Object.assign({},opts.sourceMaps?{sourceFileName:topts.filename,sourceMaps:"inline"}:{}),null===(_a=opts.transformOptions)||void 0===_a?void 0:_a.babel)}),topts));return res.error&&opts.debug&&debug(res.error),res.code}));return code.startsWith("#!")&&(code="// "+code),code}function _interopDefault(mod){return opts.interopDefault?function(sourceModule){if(null===(value=sourceModule)||"object"!=typeof value||!("default"in sourceModule))return sourceModule;var value;const newModule=sourceModule.default;for(const key in sourceModule)if("default"===key)try{key in newModule||Object.defineProperty(newModule,key,{enumerable:!1,configurable:!1,get:()=>newModule})}catch{}else try{key in newModule||Object.defineProperty(newModule,key,{enumerable:!0,configurable:!0,get:()=>sourceModule[key]})}catch{}return newModule}(mod):mod}function jiti(id,_importOptions){var _a,_b;const cache=parentCache||{};if(id.startsWith("node:")?id=id.slice(5):id.startsWith("file:")&&(id=(0,external_url_namespaceObject.fileURLToPath)(id)),external_module_.builtinModules.includes(id)||".pnp.js"===id)return nativeRequire(id);if(opts.experimentalBun&&!opts.transformOptions)try{debug(`[bun] [native] ${id}`);const _mod=nativeRequire(id);return!1===opts.requireCache&&delete nativeRequire.cache[id],_interopDefault(_mod)}catch(error){debug(`[bun] Using fallback for ${id} because of an error:`,error)}const filename=_resolve(id),ext=extname(filename);if(".json"===ext){debug("[json]",filename);const jsonModule=nativeRequire(id);return Object.defineProperty(jsonModule,"default",{value:jsonModule}),jsonModule}if(ext&&!opts.extensions.includes(ext))return debug("[unknown]",filename),nativeRequire(id);if(isNativeRe.test(filename))return debug("[native]",filename),nativeRequire(id);if(cache[filename])return _interopDefault(null===(_a=cache[filename])||void 0===_a?void 0:_a.exports);if(opts.requireCache&&nativeRequire.cache[filename])return _interopDefault(null===(_b=nativeRequire.cache[filename])||void 0===_b?void 0:_b.exports);return evalModule((0,external_fs_.readFileSync)(filename,"utf8"),{id,filename,ext,cache})}function evalModule(source,evalOptions={}){var _a;const id=evalOptions.id||(evalOptions.filename?basename(evalOptions.filename):`_jitiEval.${evalOptions.ext||".js"}`),filename=evalOptions.filename||_resolve(id),ext=evalOptions.ext||extname(filename),cache=evalOptions.cache||parentCache||{},isTypescript=".ts"===ext||".mts"===ext||".cts"===ext,isNativeModule=".mjs"===ext||".js"===ext&&"module"===(null===(_a=function(path){for(;path&&"."!==path&&"/"!==path;){path=join(path,"..");try{const pkg=(0,external_fs_.readFileSync)(join(path,"package.json"),"utf8");try{return JSON.parse(pkg)}catch(_a){}brea